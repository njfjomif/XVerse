build:
  gpu: true
  python_version: "3.10"
  python_requirements: "requirements.txt"
  run:
    - "apt-get update && apt-get install -y git git-lfs libgl1-mesa-glx"
    - "git config --global credential.helper 'store --file=~/.git-credentials'"
    - "echo \"https://oauth-as-user:$HF_TOKEN@huggingface.co\" > ~/.git-credentials"
    - "export GIT_TERMINAL_PROMPT=0"
    - "# Clone the repository directly into a directory named 'checkpoints'"
    - "git clone https://huggingface.co/ByteDance/XVerse checkpoints"
    - "# Download the additional model file into the main 'checkpoints' directory"
    - "wget https://huggingface.co/huggingfaceuw/ManiCLIP/resolve/main/model_ir_se50.pth -P ./checkpoints/"
predict: "predict.py:Predictor"